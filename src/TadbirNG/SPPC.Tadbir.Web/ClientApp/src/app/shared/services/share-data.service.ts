import { Injectable } from "@angular/core";
import { BehaviorSubject, Subject } from "rxjs";

@Injectable()
export class ShareDataService {
  public sharingData: any;
  public sharingSubjectData: Subject<any>;

  public selectFormTitle = new BehaviorSubject("");

  private scope = new Subject<any>();
  public static components: Array<any>;
  public static exceptionComponents: string[] = [
    "AutoGeneratedGridComponent",
    "QuickReportSettingComponent",
  ];
  public static removedComponent: any;

  constructor() {
    if (ShareDataService.components == undefined)
      ShareDataService.components = new Array<any>();

    this.sharingSubjectData = new Subject();
  }

  public setScope(component: any) {
    return this.scope.next(component);
  }

  public getScope() {
    return this.scope.asObservable();
  }

  public clearScope(component: any) {
    ShareDataService.removedComponent = component;
    return this.scope.next();
  }
}
