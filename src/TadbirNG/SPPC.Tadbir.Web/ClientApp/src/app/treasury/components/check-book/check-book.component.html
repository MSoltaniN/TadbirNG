<!-- <app-bread-cumb [entityTypeName]="entityTypeName"></app-bread-cumb> -->

<!-- <view-identifier [ViewID]="viewId"></view-identifier>
<report-management
  [ViewIdentity]="viewIdentity"
  [Grid]="grid"
  [Sort]="sort"
  [Filter]="reportFilter"
  [RowData]="rowData"
></report-management>
<report-setting></report-setting> -->

<div class="panel-body" style="padding-top: 0">
    <div *ngIf="errorMessages">
      <div *ngFor="let err of errorMessages" class="alert alert-danger">
        <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>
        {{ err }}
      </div>
    </div>
  
    <div class="row">
      <div class="col-xs-12 sppc-float" style="margin-top: 5px">
        <button
            class="k-button sh-new-voucher"
            title="{{ 'Voucher.NewVoucher' | translate }}"
            SppcPermissionCheck="Create"
            (sppcClick)="checkOperation('New')"
          >
            <span class="k-icon k-i-file-add"></span>
          </button>
        <button
          SppcPermissionCheck="Delete"

          (sppcClick)="removeHandler()"
          class="k-button sh-remove-voucher"
          title="{{ 'Buttons.Delete' | translate }}"
        >
          <span class="k-icon k-i-delete"></span>
        </button>

        <button
          class="k-button"
          title="{{ 'Voucher.SearchVoucher' | translate }}"
          (click)="checkOperation('Search')"
        >
          <span class="k-icon k-i-search"></span>
        </button>

        <button
          kendoButton
          SppcPermissionCheck="Print"
          
          (sppcClick)="showReport()"
          class="hidden-xs rm print sh-print"
          type="button"
          [icon]="'printer'"
        ></button>

        <button
          class="k-button k-button-icon sppc-float-diff"
          title="{{ 'Buttons.Help' | translate }}"
        >
          <span class="k-icon k-i-help"></span>
        </button>
      </div>
    </div>
    <div class="form-container">
      <form novalidate class="myForm" [formGroup]="editForm" (keydown.enter)="onSave($event)">
        <div class="form-group col-sm-5ths col-xs-12 item">
          <label for="name" class="control-label">{{ 'CheckBook.Name' | translate }}</label>
    
          <input sppcAutoFocus type="text" class="k-textbox" formControlName="name" [disabled]="editMode"/>
    
          <div class="k-tooltip k-tooltip-validation" [hidden]="editForm.controls.name.valid || editForm.controls.name.pristine">
            <span *ngIf="editForm.controls.name.errors?.required">{{ 'AllValidations.CompanyDb.NameIsRequired' | translate }}</span>
            <span *ngIf="editForm.controls.name.errors?.maxlength">{{ 'AllValidations.CompanyDb.NameIsTooLong' | translate }}</span>
          </div>
        </div>
  
        <div class="form-group col-sm-5ths col-xs-12 item">
          <label for="name" class="control-label">{{ 'CheckBook.BankName' | translate }}</label>
    
          <input type="text" class="k-textbox" formControlName="bankName" [disabled]="editMode"/>
    
          <div class="k-tooltip k-tooltip-validation" [hidden]="editForm.controls.bankName.valid || editForm.controls.bankName.pristine">
            <span *ngIf="editForm.controls.bankName.errors?.required">{{ 'AllValidations.CompanyDb.NameIsRequired' | translate }}</span>
            <span *ngIf="editForm.controls.bankName.errors?.maxlength">{{ 'AllValidations.CompanyDb.NameIsTooLong' | translate }}</span>
          </div>
        </div>
  
        <div class="form-group col-sm-5ths col-xs-12 item">
          <label for="name" class="control-label">{{ 'CheckBook.StartNumber' | translate }}</label>
    
          <input type="text" class="k-textbox" formControlName="startNo" [disabled]="editMode"/>
    
          <div class="k-tooltip k-tooltip-validation" [hidden]="editForm.controls.startNo.valid || editForm.controls.startNo.pristine">
            <span *ngIf="editForm.controls.startNo.errors?.required">{{ 'AllValidations.CompanyDb.NameIsRequired' | translate }}</span>
            <span *ngIf="editForm.controls.startNo.errors?.maxlength">{{ 'AllValidations.CompanyDb.NameIsTooLong' | translate }}</span>
          </div>
        </div>
  
        <div class="form-group col-xs-5ths col-xs-12 item">
          <label for="" style="padding: 0;" class="control-label col-xs-12 col-md-12">{{ 'CheckBook.PagesCount' | translate }}</label>
          <div class="col-md-6 col-xs-6" style="padding: 0;">
            <input type="number"
              class="k-textbox"
              [disabled]="!otherSizeOfPages"
              [(ngModel)]="selectedPagesCount || editMode"
              [ngModelOptions]="{standalone: true}"
              (onkeyup)="onChangePagesCountInput($event)"
              min="1" max="1000"
              style="max-width: 100%;"
            />
          </div>
          <div class="col-md-6 col-xs-6" style="padding: 0;">
            <fieldset [disabled]="editMode" [ngClass]="{'disabled': editMode}">
              <kendo-dropdownlist [data]="pagesCount" class="mx-1"
                                  [textField]="'value'"
                                  [valueField]="'key'"
                                  [valuePrimitive]="true"
                                  [value]="selectedPagesCount"
                                  (valueChange)="onChangePagesCountDropDown($event)"
                                  [(ngModel)]="selectedPagesCount"
                                  [ngModelOptions]="{standalone: true}"
                                  [disabled]="editMode">
              </kendo-dropdownlist>
            </fieldset>
          </div>
        </div>

        <div class="col-sm-5ths col-xs-12 item">
          <p>&nbsp;</p>
          <div class="form-group">
            <input type="checkbox" class="k-checkbox" id="isArchived" formControlName="isArchived" [attr.disabled]="isNew"/>
            <label for="isArchived" [ngClass]="{'disabled': isNew}">{{ 'CheckBook.isArchived' | translate }}</label>
          </div>
        </div>

        <div class="col-xs-12 col-sm-7 sppc-float">
          <fieldset [disabled]="editMode" [ngClass]="{'disabled': editMode}">
            <div class="form-group" [formGroup]="editForm1">
              <label for="fullAccount" class="control-label" style="position:absolute;">{{ 'VoucherLine.Account' | translate }}</label>
    
              <sppc-fullAccount formGroupName="fullAccount" (isInputFocused)="onFullAccountInpusFocuse($event)"
                                (setFocus)="onSelectFullAccount($event)">
              </sppc-fullAccount>
            </div>
          </fieldset>
        </div>
      </form>
      <div class="action-box">
        <button class="create-pages-btn k-button" [disabled]="editMode" (click)="onSave($event)">ایجادبرگه ها</button>
      </div>
    </div>
  </div>
  <div>
      <check-book-pages [pages]="checkBookPages" [checkBookId]="this.model.id"></check-book-pages>
  </div>

<!-- <kendo-dialog
  title="{{ 'Company.Delete' | translate }}"
  *ngIf="deleteConfirm"
  (close)="deleteModel(false)"
  [minWidth]="250"
  [width]="450"
>
  <p >
    {{ deleteConfirmMsg }}
  </p>
  <kendo-dialog-actions>
    <button class="k-button" (click)="deleteModel(true)" primary="true">
      {{ "Buttons.Yes" | translate }}
    </button>
    <button class="k-button" (click)="deleteModel(false)">
      {{ "Buttons.No" | translate }}
    </button>
  </kendo-dialog-actions>
</kendo-dialog> -->
