<kendo-dialog *ngIf="active" id="accountRelationForm" [ngClass]="{'tRtl':this.currentlang === 'fa' , 'tLtr': this.currentlang === 'en'}"
              (close)="closeForm()">
    <kendo-dialog-titlebar>
        {{ getTitleText('AccountRelations.FormTitle' | translate) }}
    </kendo-dialog-titlebar>

    <div *ngIf="errorMessage != ''">
        <div class="alert alert-danger">
            {{ errorMessage }}
        </div>
    </div>

    <div class="row" id="main-section">
        <div class="col-sm-6" [ngClass]="{'pull-right':this.currentlang === 'fa'}">
            <div class="section-header">
                <span class="control-label">{{ 'AccountRelations.RemainingRelations' | translate }}</span>
                <input type="text" class="k-textbox" [(ngModel)]="searchValue" (keydown)="onKeyChange($event.keyCode)" />
                <button class="k-button k-primary btn-search"
                        (click)="onSearch()">
                    <span class="k-i-filter k-icon"></span>
                </button>
            </div>
            <div class="section-body">
                <div [ngClass]="{'k-rtl':this.currentlang === 'fa'}">
                    <kendo-treeview [nodes]="relatedComponentCategories"
                                    [textField]="['name']"
                                    kendoTreeViewExpandable
                                    [kendoTreeViewCheckable]="{ mode: 'multiple', checkChildren: false , checkParents: false }"
                                    [checkBy]="checkById"
                                    [(checkedKeys)]="relatedComponentCheckedKeys"
                                    (checkedChange)="handleCheckedChange($event)">
                        <ng-template kendoTreeViewNodeTemplate let-dataItem>
                            {{dataItem.name}} - ({{dataItem.fullCode}})
                        </ng-template>
                    </kendo-treeview>
                </div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="section-header">
                <span class="control-label" id="resualt-label">{{ 'AccountRelations.NewRelations' | translate }}</span>
            </div>
            <div class="section-body">
                <div [ngClass]="{'k-rtl':this.currentlang === 'fa'}">
                    <kendo-treeview [nodes]="resualtCategories"
                                    [textField]="['name']"
                                    kendoTreeViewExpandable
                                    [kendoTreeViewCheckable]="{ mode: 'multiple'}"
                                    [checkBy]="checkById"
                                    [(checkedKeys)]="resualtCheckedKeys"
                                    (checkedChange)="handleResualtCheckedChange($event)">
                        <ng-template kendoTreeViewNodeTemplate let-dataItem>
                            {{dataItem.name}} - ({{dataItem.fullCode}})
                        </ng-template>
                    </kendo-treeview>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>

    <kendo-dialog-actions>
        <button class="k-button k-primary" (click)="onSave($event)">{{ 'Buttons.Ok' | translate }}</button>
        <button class="k-button" (click)="onCancel($event)">{{ 'Buttons.Cancel' | translate }}</button>
    </kendo-dialog-actions>
</kendo-dialog>