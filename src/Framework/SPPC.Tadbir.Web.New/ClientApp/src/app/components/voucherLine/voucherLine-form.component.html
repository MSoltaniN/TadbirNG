
<div class="dialog-body">

  <div style="padding:15px;" (keydown.esc)="escPress()">
    <div *ngIf="errorMessage">
      <div class="alert alert-danger">
        <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>
        {{ errorMessage }}
      </div>
    </div>

    <form novalidate [formGroup]="editForm1">

      <div class="row">

        <div class="col-xs-12 col-sm-7 sppc-float">
          <div class="form-group">
            <label for="fullAccount" class="control-label" style="position:absolute;">{{ 'VoucherLine.Account' | translate }}</label>

            <sppc-fullAccount formGroupName="fullAccount"
                              (setFocus)="focusHandler($event)">
            </sppc-fullAccount>
          </div>
        </div>

        <div class="col-xs-12 col-sm-5 sppc-float">

          <div class="row">
            <div class="col-xs-12">
              <div class="form-group row" *ngIf="creditDebiteMode == '1'">
                <label for="debit" class="control-label col-xs-4 col-sm-3 sppc-float">{{ 'VoucherLine.Amount' | translate }}</label>

                <sppc-numericInput formControlName="debit" class="col-xs-8 col-sm-9 sppc-input-num sppc-float"></sppc-numericInput>
              </div>

              <div class="form-group row" *ngIf="creditDebiteMode == '2'">
                <label for="debit" class="control-label col-xs-4 col-sm-3 sppc-float">{{ 'VoucherLine.Amount' | translate }}</label>

                <sppc-numericInput formControlName="credit" class="col-xs-8 col-sm-9 sppc-input-num sppc-float"></sppc-numericInput>

              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-xs-12">
              <div class="form-group row">
                <label for="debit" class="control-label col-xs-4 col-sm-3 sppc-float"></label>
                <div class="voucher-mode-item">
                  <input type="radio" name="creditDebiteMode" id="mode1" class="k-radio"
                         [(ngModel)]="creditDebiteMode" value="1" [ngModelOptions]="{standalone: true}" />
                  <label class="k-radio-label" for="mode1">{{ 'VoucherLine.Debit' | translate }}</label>
                </div>

                <div class="voucher-mode-item">
                  <input type="radio" name="creditDebiteMode" id="mode2" class="k-radio"
                         [(ngModel)]="creditDebiteMode" value="2" [ngModelOptions]="{standalone: true}" />
                  <label class="k-radio-label" for="mode2">{{ 'VoucherLine.Credit' | translate }}</label>
                </div>

              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-xs-12">
              <div class="form-group row">
                <label for="debit" class="control-label col-xs-4 col-sm-3 sppc-float" style="padding: 0 10px;">{{ 'VoucherLine.ArticleType' | translate }}</label>

                <kendo-dropdownlist [data]="voucherLineTypeList" class="col-xs-8 col-sm-9 sppc-float"
                                    [textField]="'value'"
                                    [valueField]="'key'"
                                    [valuePrimitive]="true"
                                    [value]="selectedArticleType"
                                    [(ngModel)]="selectedArticleType"
                                    [ngModelOptions]="{standalone: true}"
                                    formControlName="typeId">
                </kendo-dropdownlist>
              </div>
            </div>
          </div>

        </div>

      </div>

      <div class="row">
        <div class="col-xs-12">
          <div class="form-group">

            <label for="description" class="control-label">{{ 'VoucherLine.Description' | translate }}</label>

            <input type="text" class="k-textbox" formControlName="description" />

            <div class="k-tooltip k-tooltip-validation" [hidden]="editForm1.controls.description.valid || editForm1.controls.description.pristine">
              {{ 'AllValidations.VoucherLine.DescriptionIsTooLong' | translate }}
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="isDisplayCurrency">

        <hr />

        <div class="row">

          <div class="col-xs-12 col-sm-4 sppc-float">

            <div class="form-group">
              <label for="currencyId" class="control-label">{{ 'VoucherLine.Currency' | translate }}</label>

              <kendo-dropdownlist [data]="currenciesRows" [valuePrimitive]="true" formControlName="currencyId" class="ddl-currency"
                                  [textField]="'value'" [value]="selectedCurrencyValue" [(ngModel)]="selectedCurrencyValue" [valueField]="'key'" [defaultItem]="{ value: '', key: null}">
              </kendo-dropdownlist>
            </div>

          </div>

          <div class="col-xs-12 col-sm-4 sppc-float">
            <div class="form-group">
              <label for="description" class="control-label">{{ 'VoucherLine.CurrencyValue' | translate }}</label>
              <input type="text" formControlName="currencyValue" class="k-textbox" />
            </div>
          </div>

          <div class="col-xs-12 col-sm-4 sppc-float">
            <div class="form-group">
              <label for="description" class="control-label">{{ 'VoucherLine.CurrencyRate' | translate }}</label>
              <input type="text" class="k-textbox" />
            </div>
          </div>

        </div>


      </div>


    </form>
  </div>
  <kendo-dialog-actions>
    <button class="k-button k-primary" [disabled]="!editForm1.valid" (click)="onSave($event,false)">{{ 'Buttons.Ok' | translate }}</button>
    <button class="k-button k-primary" [disabled]="!editForm1.valid" (click)="onSave($event,true)">{{ 'Buttons.OkAndNew' | translate }}</button>
    <button class="k-button" (click)="onCancel($event)">{{ 'Buttons.Cancel' | translate }}</button>
  </kendo-dialog-actions>
</div>
