<kendo-dialog [minWidth]="300" [width]="400"  *ngIf="active" class="permission-dialog"
  [ngClass]="{'tRtl':this.currentlang === 'fa' , 'tLtr': this.currentlang === 'en'}" (close)="closeDialog()">
  <kendo-dialog-titlebar>
    {{ 'Report.ReportParameter' | translate }}
  </kendo-dialog-titlebar>
  <form novalidate [formGroup]="parameterForm" (keydown.enter)="onSave($event)">
  <div *ngFor="let field of fieldArray; let i = index">
    <div class="form-group" *ngIf="field.controlType == 'TextBox'">
      <label for="{{field.fieldName}}" class="control-label">{{field.captionKey}}</label>

      <input type="text" class="k-textbox" [(ngModel)]="field.Value"  formControlName="{{field.fieldName}}" />

      <div class="k-tooltip k-tooltip-validation" [hidden]="parameterForm.controls[field.fieldName].valid || parameterForm.controls[field.fieldName].pristine">
        <span *ngIf="parameterForm.controls[field.fieldName].errors?.required">parameter is required</span>
        <span *ngIf="parameterForm.controls[field.fieldName].errors?.maxlength">parameter too long</span>
      </div>
    </div>
    <div class="form-group" *ngIf="field.controlType == 'CheckBox'">
      <label for="{{field.fieldName}}" class="control-label">{{field.captionKey}}</label>

      <input type="checkbox" [(ngModel)]="field.Value" formControlName="{{field.fieldName}}" />

      <div class="k-tooltip k-tooltip-validation" [hidden]="parameterForm.controls[field.fieldName].valid || parameterForm.controls[field.fieldName].pristine">
        <span *ngIf="parameterForm.controls[field.fieldName].errors?.required">parameter is required</span>
        <span *ngIf="parameterForm.controls[field.fieldName].errors?.maxlength">parameter too long</span>
      </div>
    </div>
  </div>
  </form>
  <kendo-dialog-actions>
    <button class="k-button k-primary" [disabled]="!parameterForm.valid" (click)="onSave($event)">{{ 'Buttons.Ok' |
      translate }}</button>
    <button class="k-button" (click)="onCancel($event)">{{ 'Buttons.Cancel' | translate }}</button>
  </kendo-dialog-actions>
</kendo-dialog>