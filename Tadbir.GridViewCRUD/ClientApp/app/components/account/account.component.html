<div [ngClass]="rtlClass" class="ui-g-12 tform" [dir]="rtlUse">
    <p-panel header="{{ 'Account.List' | translate }}">
        <!--<div class="containerBtn ui-g-12">
            <div class="ui-g-6">
                <div style="color:white">{{ 'App.Title' | translate }}</div>
                <select #langSelect (change)="languageChange(langSelect.value)">
                    <option *ngFor="let lang of translate.getLangs()" [value]="lang" [selected]="lang === translate.currentLang">{{ lang }}</option>
                </select>
            </div>
        </div>-->

        <div class="ContentSideSections Implementation divContainer ui-g-12">
            <p-dataTable [style]="{'margin-top':'20px'}" [value]="rowData" [rows]="10" [lazy]="true" [paginator]="true" [editable]="true"
                         resizableColumns="true" [totalRecords]="totalRecords" [responsive]="true"
                         (onLazyLoad)="loadAccountLazy($event)" (onEditComplete)="onEditComplete($event)" columnResizeMode="expand" [rowsPerPageOptions]="[5,10,20]">
                <header>{{ 'Account.List' | translate }}</header>
                <p-column field="code" [filter]="true" class="ui-md-6" [editable]="true" header="{{ 'Account.Code' | translate }}" [sortable]="true"></p-column>
                <p-column field="name" [filter]="true" [editable]="true" header="{{ 'Account.Name' | translate }}" [style]="{'width':'25%'}" [sortable]="true"></p-column>
                <p-column field="fiscalPeriodId" [filter]="true" header="{{ 'Account.Fiscal' | translate }}" [style]="{'text-align':'center'}" [sortable]="true"></p-column>
                <p-column field="branchId" [filter]="true" header="{{ 'Account.Branch' | translate }}" [style]="{'text-align':'center'}" [sortable]="true"></p-column>
                <p-column field="description" [editable]="false" header="{{ 'Account.Description' | translate }}" [sortable]="false"></p-column>
                <p-column header="" [style]="{'text-align':'center'}">
                    <ng-template let-col let-account="rowData" pTemplate type="body">
                        <button type="button" pButton icon="fa-check" (click)="showDialogToEdit(account)" label="{{ 'Buttons.Edit' | translate }}"></button>
                    </ng-template>
                </p-column>
                <p-column header="" [style]="{'text-align':'center'}">
                    <ng-template let-col let-account="rowData" pTemplate type="body">
                        <button type="button" pButton icon="fa-close" (click)="showDialogToDelete(account)" label="{{ 'Buttons.Delete' | translate }}"></button>
                    </ng-template>
                </p-column>
                <ng-template pTemplate="emptymessage">
                    {{showloadingMessage  ? ('App.Loading' | translate) : ('App.RecordNotFound' | translate)}}
                </ng-template>
                <footer><div class="ui-helper-clearfix" style="width:100%"></div></footer>
            </p-dataTable>

            <p-dialog header=" {{ !newAccount ? ('Buttons.Edit' | translate) : ('Buttons.New' | translate)}}" [(visible)]="displayDialog" [responsive]="true" showEffect="fade" [modal]="true">
                <div class="ui-grid ui-grid-responsive ui-fluid ui-grid-pad">
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-4"><label for="code">{{ 'Account.Code' | translate }}</label></div>
                        <div class="ui-grid-col-8"><input pInputText id="code" [(ngModel)]="account.code" /></div>
                    </div>
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-4"><label for="name">{{ 'Account.Name' | translate }}</label></div>
                        <div class="ui-grid-col-8"><input pInputText id="name" [(ngModel)]="account.name" /></div>
                    </div>
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-4"><label for="fiscalPeriodId">{{ 'Account.Fiscal' | translate }}</label></div>
                        <div class="ui-grid-col-8"><input pInputText id="fiscalPeriodId" [(ngModel)]="account.fiscalPeriodId" /></div>
                    </div>
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-4"><label for="branchId">{{ 'Account.Branch' | translate }}</label></div>
                        <div class="ui-grid-col-8"><input pInputText id="branchId" [(ngModel)]="account.branchId" /></div>
                    </div>
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-4"><label for="description">{{ 'Account.Description' | translate }}</label></div>
                        <div class="ui-grid-col-8"><input pInputText id="description" [(ngModel)]="account.description" /></div>
                    </div>
                </div>
                <footer>
                    <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
                        <button type="button" pButton icon="fa-check" (click)="save()" *ngIf="newAccount" label="{{ 'Buttons.Ok' | translate }}"></button>
                        <button type="button" pButton icon="fa-check" (click)="save()" *ngIf="!newAccount" label="{{ 'Buttons.Edit' | translate }}"></button>
                        <button type="button" pButton icon="fa-close" (click)="cancel()" label="{{ 'Buttons.Cancel' | translate }}"></button>
                    </div>
                </footer>
            </p-dialog>
            <p-dialog header="{{'Account.Delete' | translate}}" [(visible)]="displayDeleteDialog" modal="modal" showEffect="fade">
                <p>
                    {{ deleteConfirm }}
                </p>
                <footer>
                    <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
                        <button type="button" pButton icon="fa-close" (click)="deleteAccount(false)" label="{{ 'Buttons.No' | translate }}"></button>
                        <button type="button" pButton icon="fa-check" (click)="deleteAccount(true)" label="{{ 'Buttons.Yes' | translate }}"></button>
                    </div>
                </footer>
            </p-dialog>

        </div>
        <p-footer>
            <button type="button" pButton icon="fa-plus" (click)="showDialogToAdd()" label="{{ 'Buttons.New' | translate }}"></button>
        </p-footer>
    </p-panel>
</div>
